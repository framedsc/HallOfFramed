(this["webpackJsonpjim-framed"]=this["webpackJsonpjim-framed"]||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var r=n(4),a=n(0),c=n(12),i=n(1),s=n.n(i),o=n(17),l=n.n(o),u=n(102),h=n(22),d=n.n(h),b=n(37),j=n(5),f=n(9),p=n(6),m=n.n(p),x=function(){return Object(a.jsxs)("div",{className:"sort-icon",children:[Object(a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 292 292",fill:"#fff",children:Object(a.jsx)("g",{children:Object(a.jsx)("path",{d:"M286.935,197.286L159.028,69.379c-3.613-3.617-7.895-5.424-12.847-5.424s-9.233,1.807-12.85,5.424L5.424,197.286 C1.807,200.9,0,205.184,0,210.132s1.807,9.233,5.424,12.847c3.621,3.617,7.902,5.428,12.85,5.428h255.813 c4.949,0,9.233-1.811,12.848-5.428c3.613-3.613,5.427-7.898,5.427-12.847S290.548,200.9,286.935,197.286z"})})}),Object(a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 292 292",fill:"#aaa",children:Object(a.jsx)("g",{children:Object(a.jsx)("path",{d:"M286.935,69.377c-3.614-3.617-7.898-5.424-12.848-5.424H18.274c-4.952,0-9.233,1.807-12.85,5.424 C1.807,72.998,0,77.279,0,82.228c0,4.948,1.807,9.229,5.424,12.847l127.907,127.907c3.621,3.617,7.902,5.428,12.85,5.428 s9.233-1.811,12.847-5.428L286.935,95.074c3.613-3.617,5.427-7.898,5.427-12.847C292.362,77.279,290.548,72.998,286.935,69.377z"})})})]})},g=function(){return Object(a.jsxs)("div",{className:"sort-icon",children:[Object(a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 292 292",fill:"#aaa",children:Object(a.jsx)("g",{children:Object(a.jsx)("path",{d:"M286.935,197.286L159.028,69.379c-3.613-3.617-7.895-5.424-12.847-5.424s-9.233,1.807-12.85,5.424L5.424,197.286 C1.807,200.9,0,205.184,0,210.132s1.807,9.233,5.424,12.847c3.621,3.617,7.902,5.428,12.85,5.428h255.813 c4.949,0,9.233-1.811,12.848-5.428c3.613-3.613,5.427-7.898,5.427-12.847S290.548,200.9,286.935,197.286z"})})}),Object(a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 292 292",fill:"#fff",children:Object(a.jsx)("g",{children:Object(a.jsx)("path",{d:"M286.935,69.377c-3.614-3.617-7.898-5.424-12.848-5.424H18.274c-4.952,0-9.233,1.807-12.85,5.424 C1.807,72.998,0,77.279,0,82.228c0,4.948,1.807,9.229,5.424,12.847l127.907,127.907c3.621,3.617,7.902,5.428,12.85,5.428 s9.233-1.811,12.847-5.428L286.935,95.074c3.613-3.617,5.427-7.898,5.427-12.847C292.362,77.279,290.548,72.998,286.935,69.377z"})})})]})},O=function(){return Object(a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",viewBox:"0 0 2048 2048",fill:"#9A9A9A",children:[Object(a.jsx)("g",{children:Object(a.jsx)("g",{children:Object(a.jsx)("path",{d:"M892.3,688v242h539v247.2h-539v411.9H609.1v-1150h889.1V688H892.3z"})})}),Object(a.jsx)("path",{d:"M143.6,138.5v1760.9h1760.9V138.5H143.6z M1783.8,1778.7H264.2V259.2h1519.6V1778.7z"})]})},v=function(){return Object(a.jsxs)("svg",{viewBox:"0 0 80 80",width:"40",height:"30",fill:"#fff",children:[Object(a.jsx)("rect",{y:"15",width:"80",height:"10"}),Object(a.jsx)("rect",{y:"35",width:"80",height:"10"}),Object(a.jsx)("rect",{y:"55",width:"80",height:"10"})]})},w=function(){return Object(a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 512 512",children:[Object(a.jsx)("polygon",{points:"68.284,40 165,40 165,0 0,0 0,165 40,165 40,68.284 177,205.284 205.284,177"}),Object(a.jsx)("polygon",{points:"205.284,335 177,306.716 40,443.716 40,347 0,347 0,512 165,512 165,472 68.284,472"}),Object(a.jsx)("polygon",{points:"347,0 347,40 443.716,40 306.716,177 335,205.284 472,68.284 472,165 512,165 512,0"}),Object(a.jsx)("polygon",{points:"472,347 472,443.716 335,306.716 306.716,335 443.716,472 347,472 347,512 512,512 512,347"})]})},y=function(e){var t=e.className;return Object(a.jsx)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(a.jsx)("path",{d:"M21 4.41L19.59 3 12 10.59 4.41 3 3 4.41 10.59 12 3 19.59 4.41 21 12 13.41 19.59 21 21 19.59 13.41 12 21 4.41z"})})},k=function(){return Object(a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 32 32",children:[Object(a.jsx)("polygon",{points:"22.586,25.414 29.172,32 32,29.172 25.414,22.586 28,20 20,20 20,28"}),Object(a.jsx)("polygon",{points:"6.547,9.371 4,12 11.961,11.957 12,4 9.375,6.543 2.828,0 0,2.828"}),Object(a.jsx)("polygon",{points:"0,29.172 2.828,32 9.414,25.414 12,28 12,20 4,20 6.586,22.586"}),Object(a.jsx)("polygon",{points:"28.031,12 25.438,9.404 32,2.838 29.164,0 22.598,6.566 20,3.971 20,12"})]})},N=function(){return Object(a.jsx)("svg",{viewBox:"0 0 24 24",children:Object(a.jsx)("path",{d:"M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})})},S=function(){return Object(a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 476.213 476.213",children:Object(a.jsx)("polygon",{points:"345.606,107.5 324.394,128.713 418.787,223.107 0,223.107 0,253.107 418.787,253.107 324.394,347.5  345.606,368.713 476.213,238.106 "})})},C=function(e){var t=e.className;return Object(a.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})})},I=Object(i.createContext)({show:!1,component:null,className:"",withClose:!0}),T=Object(i.createContext)({imageData:[],authorData:[],searchData:{}}),D=function(e){var t=e.show,n=e.className,r=e.component,c=e.onClose,o=t?"is-visible":void 0,l=Object(i.useContext)(I),u=l.modal,h=l.setModal,d=s.a.useCallback((function(){document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement?document.exitFullscreen():c?c():h({className:"",component:null,show:!1})}),[c,h]);return Object(a.jsxs)("div",{className:m()("framed-modal",n,o),children:[Object(a.jsx)("div",{className:"framed-modal-overlay",onClick:d,children:Object(a.jsx)("div",{className:"framed-modal-content",onClick:function(e){e.stopPropagation()},children:r})}),u.withClose&&Object(a.jsx)("button",{className:"close",onClick:d,children:Object(a.jsx)(y,{})})]})},E={minDate:new Date("2019-02-17"),maxDate:new Date(+new Date+864e5),numberHelpers:[{label:"greater than",hint:">=",operator:">"},{label:"less than",hint:"<=",operator:"<"},{label:"equal to",hint:"=",operator:"="}],searchOptions:[{label:"author",property:"author",hint:"user name",type:"string",helperText:":",entries:[],helpers:!0},{label:"title",property:"game",hint:"game title",type:"string",helperText:":",entries:[],helpers:!0},{label:"on",property:"epochtime",hint:"specific date",helperText:":",type:"number",helpers:!0,range:[]},{label:"before",property:"epochtime",hint:"specific date",type:"number",helperText:":",operator:"<",helpers:!1},{label:"after",property:"epochtime",hint:"specific date",type:"number",helperText:":",operator:">",helpers:!1},{label:"width",property:"width",hint:"pixels wide",helperText:":",type:"number",helpers:!0,range:[]},{label:"height",property:"height",hint:"pixels tall",helperText:":",type:"number",helpers:!0,range:[]},{label:"score",property:"score",hint:"number of reactions",helperText:":",type:"number",helpers:!0,range:[]},{label:"id",property:"epochTime",hint:"",helperText:":",type:"number",helpers:!0,hide:!0,range:[]},{label:"from",property:"author",hint:"",helperText:":",type:"string",helpers:!0,hide:!0,entries:[]},{label:"game",property:"game",hint:"",helperText:":",type:"string",helpers:!0,hide:!0,entries:[]},{label:"color",property:"colorName",hint:"shot color",helperText:":",type:"string",helpers:!0,entries:[]}]};var F=840,L=function(e){var t=[];return Object.entries(e).forEach((function(e){var n=e[0],a=e[1];t.push(Object(r.a)({id:n},a))})),t},M=function(e,t){for(var n=function(n){e[n].authorid=e[n].author;var r=t.find((function(t){return t.authorid===e[n].authorid})).authorNick;e[n].author=r,e[n].game=e[n].gameName,e[n].epochtime=e[n].epochTime,e[n].aspectRatio=e[n].width/e[n].height},r=0;r<e.length;r++)n(r);return e},A=function(){if("undefined"!==typeof document.fullscreenElement)return"fullscreenElement";if("undefined"!==typeof document.mozFullScreenElement)return"mozFullScreenElement";if("undefined"!==typeof document.msFullscreenElement)return"msFullscreenElement";if("undefined"!==typeof document.webkitFullscreenElement)return"webkitFullscreenElement";throw new Error("fullscreenElement is not supported by this browser")},R=function(e){var t=window.location.search;return new URLSearchParams(t).getAll(e)},z=function(e,t){if(!t.length)return[0,0];var n=t.sort((function(t,n){return t[e]>n[e]?1:n[e]>t[e]?-1:0}));return[n[0][e],n[t.length-1][e]]},P=function(e){var t,n=Object.assign(E),r=e.slice(),a=n.searchOptions.filter((function(e){return e.hasOwnProperty("entries")})),c=Object(f.a)(a);try{for(c.s();!(t=c.n()).done;){t.value.entries=[]}}catch(O){c.e(O)}finally{c.f()}var i,s=Object(f.a)(r);try{for(s.s();!(i=s.n()).done;){var o,l=i.value,u=Object(f.a)(a);try{for(u.s();!(o=u.n()).done;){var h=o.value,d=h.property,b=h.entries;b.includes(l[d])||b.push(l[d])}}catch(O){u.e(O)}finally{u.f()}}}catch(O){s.e(O)}finally{s.f()}var j,p=Object(f.a)(n.searchOptions);try{for(p.s();!(j=p.n()).done;){var m=j.value;m.hasOwnProperty("range")&&(m.range=z(m.property,r))}}catch(O){p.e(O)}finally{p.f()}var x,g=Object(f.a)(a);try{for(g.s();!(x=g.n()).done;){x.value.entries.sort()}}catch(O){g.e(O)}finally{g.f()}return n},B=function(e){var t=E.searchOptions.findIndex((function(t){return t.label===e}));return!!(t>-1)&&E.searchOptions[t].property},W=function(e){return E.searchOptions.filter((function(t){return t.type===e})).map((function(e){return e.property}))};var H=function(e,t){for(var n=window.location.search,r=new URLSearchParams(n),a=0,c=Array.from(r.entries());a<c.length;a++){var i=c[a];r.delete(i[0],i[1])}var s,o=e.map((function(e){return{name:e.split(": ",2)[0],value:e.split(": ",2)[1]}})),l=Object(f.a)(o);try{for(l.s();!(s=l.n()).done;){var u=s.value;void 0!==u.value&&r.append(u.name,u.value)}}catch(h){l.e(h)}finally{l.f()}t&&t.push({search:r.toString()})},U=function(){var e=document.documentElement.clientWidth||document.body.clientWidth,t=Object(i.useState)(e),n=Object(j.a)(t,2),r=n[0],a=n[1],c=function(){var e=document.documentElement.clientWidth||document.body.clientWidth;a(e)};return Object(i.useEffect)((function(){var e;window.setTimeout(c,1e3);var t=function(){var t=document.documentElement.clientWidth||document.body.clientWidth;clearTimeout(e),e=setTimeout((function(){return a(t)}),50)};return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),{width:r}},V=function(e){var t=Object(i.useState)(!1),n=Object(j.a)(t,2),r=n[0],a=n[1];return Object(i.useEffect)((function(){var t=function(){var t,n=document.body;e&&a((t=100,n.getBoundingClientRect().bottom-t<=window.innerHeight))};return window.addEventListener("scroll",t,!1),function(){return window.removeEventListener("scroll",t,!1)}}),[e]),!!e&&r},q=function(e,t){Object(i.useEffect)((function(){function n(n){e.current&&!e.current.contains(n.target)&&t()}return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[e,t])},_=function(e){var t=e.className,n=e.images,r=e.rowTargetHeight,c=void 0===r?400:r,i=e.borderOffset,s=void 0===i?5:i,o=e.profileMode,l=void 0!==o&&o,u=e.onClick,h=U().width-2*s,d=function(e,t){t=t||1;var n=e.height-t;return e.width=e.width*(n/e.height),e.height=n,e},b=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].width;return t+=(e.length-1)*s},j=function(){for(var e=0,t=0,r=0,a=[],i=function(){for(var e=[],t=0;t<n.length;t++){var r=parseInt(n[t].width),a=parseInt(n[t].height);r*=c/a;var i={id:n[t].id,author:n[t].author,authorid:n[t].authorid,authorsAvatarUrl:n[t].authorsAvatarUrl,epochtime:n[t].epochtime,game:n[t].game,score:n[t].score,shotUrl:n[t].shotUrl,spoiler:n[t].spoiler,thumbnailUrl:n[t].thumbnailUrl,width:r,height:c,aspectRatio:n[t].width/n[t].height};e.push(i)}return e}();i[r];)t>=h&&(e++,t=0),a[e]||(a[e]=[]),a[e].push(i[r]),t+=i[r].width,r++;return a},f=function(e){for(var t=0;t<e.length;t++)(n=e[t]).width=parseInt(n.width),n.height=parseInt(n.height);var n;return e},p=function(e){for(;b(e)>h;)for(var t=0;t<e.length;t++)e[t]=d(e[t]);return e};return function(){for(var e=j(),n=0;n<e.length;n++){e[n]=p(e[n]),e[n]=f(e[n]);var r=h-b(e[n]),c=e[n].length;if(c>1&&r<10){for(var i=r/c,o=0;o<e[n].length;o++)e[n][o].width+=i;e[n]=f(e[n]),e[n][e[n].length-1].width+=h-b(e[n])}}return function(e){return Object(a.jsx)("div",{className:t,style:{paddingLeft:s,paddingTop:l?s:50+s},children:e.map((function(e,t){return Object(a.jsx)("div",{className:"image-row",children:e.map((function(e,t){return Object(a.jsxs)("div",{className:"thumbnail-container",style:{marginRight:s,marginBottom:s},children:[Object(a.jsx)("img",{className:e.spoiler?"spoiler":void 0,alt:e.gameName,id:"img-".concat(e.epochtime),src:e.thumbnailUrl,style:{width:Math.ceil(e.width),height:e.height,cursor:"pointer"},onClick:function(){return u(e)}},t),e.spoiler&&Object(a.jsx)("div",{className:"spoiler",onClick:function(t){t.target.style.display="none",document.getElementById("img-".concat(e.epochtime)).classList.remove("spoiler")},children:Object(a.jsx)("span",{children:"NSFW / Spoiler"})}),Object(a.jsxs)("div",{className:"image-info",children:[Object(a.jsx)("div",{className:"game",children:e.game}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{className:"by",children:"by"})," ",Object(a.jsx)("span",{className:"author",children:e.author})]})]})]},"thumbnail-container-".concat(e.id))}))},t)}))})}(e)}()},G=function(){return Object(a.jsxs)("div",{className:"about-modal-content",children:[Object(a.jsx)("h2",{children:"About the Hall of FRAMED"}),Object(a.jsxs)("div",{className:"about-modal-columns",children:[Object(a.jsxs)("section",{children:[Object(a.jsxs)("p",{children:["The Hall of FRAMED is a gallery that curates and celebrates the most popular shots that we've have taken and shared over the years. In 2019, the ",Object(a.jsx)("a",{href:"https://framedsc.github.io/",children:"FRAMED Screenshot Community"})," began as a place to collate and discuss all we knew about screenshotting. It soon overflowed with so many incredible screenshots that we decided it was time to create a gallery to highlight the ones we loved the most. And so, in 2021, the Hall of FRAMED was born."]}),Object(a.jsx)("p",{children:"This page continuously updates on its own, thanks to an automated curation system that publishes entries to the Hall based on popular vote."}),Object(a.jsxs)("p",{children:["We hope this gallery serves as an exhibition of the depth and variety of creativity within this space, showcasing what's possible in the field of virtual photography. Maybe you'll find it useful as inspiration, or just as a ",Object(a.jsx)("a",{href:"https://framedsc.com/HOFWallpaper/",children:"nice source of wallpapers"})," for your PC and phone."]})]}),Object(a.jsxs)("section",{children:[Object(a.jsx)("h4",{children:"Gallery Controls"}),Object(a.jsx)("p",{children:"This gallery can be navigated with both mouse and keyboard shortcuts. You can use the left & right arrow keys to cycle between shots, while the F key will open the currently selected image in fullscreen and the ESC key can be used to close the viewer. If you\u2019re browsing on a mobile or touch device, you can also use swipe motions to navigate the images."})]}),Object(a.jsxs)("section",{children:[Object(a.jsx)("h4",{children:"Copyright and usage"}),Object(a.jsx)("p",{children:"All shots on this site are \xa9 the rightful owner of the work. Shots on this site are strictly for personal use only. It's not allowed to use the shots in commercial or other non-personal contexts without the written approval of the copyright owner."})]}),Object(a.jsxs)("section",{children:[Object(a.jsx)("h4",{children:"Search options"}),Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:"You can simply type in the box to search, or you can specify the term you wish to search for. Each search you enter will be added as a separate filter, allowing you to narrow the results further. As you type, a window will show you the possible types of data you can search for and will guide you along if you click them. Filters can be removed by clicking them in the window. Examples:"}),Object(a.jsxs)("ol",{children:[Object(a.jsxs)("li",{children:[Object(a.jsx)("code",{children:"cyberpunk"}),Object(a.jsx)("span",{children:' : searches all data for the text "cyberpunk"'})]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("code",{children:"title: Cyberpunk"}),Object(a.jsx)("span",{children:' : finds shots from the game "Cyberpunk"'})]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("code",{children:"author: Dread"}),Object(a.jsx)("span",{children:' : finds all shots by "Dread"'})]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("code",{children:"before: 2021-03-18"}),Object(a.jsx)("span",{children:" : finds shots posted before March 18th, 2021"})]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("code",{children:"after: 2020-11-05"}),Object(a.jsx)("span",{children:" : finds shots posted after November 5th, 2020"})]}),Object(a.jsxs)("li",{children:[Object(a.jsxs)("code",{children:["width:"," > ","3840"]}),Object(a.jsx)("span",{children:" : finds shots with a width greater than or equal 3840"})]}),Object(a.jsxs)("li",{children:[Object(a.jsxs)("code",{children:["height:"," < ","2160"]}),Object(a.jsx)("span",{children:" : finds shots with a height smaller than or equal to 2160"})]})]}),Object(a.jsx)("br",{})]})]}),Object(a.jsxs)("section",{children:[Object(a.jsx)("h4",{children:"Contact"}),Object(a.jsxs)("p",{children:[Object(a.jsx)("a",{href:"https://x.com/framedsc",children:"X, formerly Twitter"}),Object(a.jsx)("br",{}),Object(a.jsx)("a",{href:"https://bsky.app/profile/framedsc.com",children:"Bluesky"})]}),Object(a.jsx)("p",{children:Object(a.jsx)("a",{href:"https://framedsc.com/joinus.htm",children:"Interested in joining FRAMED?"})})]})]})]})},Y=n(38),J=n.n(Y),X=n(39),Z=n(40),K=n(44),Q=n(43),$=function(e){Object(K.a)(n,e);var t=Object(Q.a)(n);function n(e){var r;return Object(X.a)(this,n),(r=t.call(this,e)).state={startAnimate:!1},r}return Object(Z.a)(n,[{key:"componentDidMount",value:function(){setTimeout(function(){this.setState({startAnimate:!0})}.bind(this),1)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.onClick,r=e.text,c=e.index,i=!!this.state.startAnimate&&"normal";return Object(a.jsxs)("button",{className:m()(t,i),onClick:n,tabIndex:15+c,children:[Object(a.jsx)("span",{className:"filter-text",children:r}),Object(a.jsx)("span",{className:"cancel-button",children:Object(a.jsx)(y,{})})]},"filter-".concat(r))}}]),n}(i.PureComponent),ee=function(e){var t=e.handleSearchFocus,n=e.handleSearchBlur,r=e.updateFilters,c=e.updateSearch,o=e.focused,l=e.searchText,u=e.filters,h=e.searchData,d=e.isMobile,b=",",j=Object(i.useCallback)((function(e,t){var n=e.indexOf(b),r=t.slice();if(n>-1){var a=e.substring(0,n),c=e.substring(n+1,e.length);return r.push(a),j(c,r)}return{text:e,newFilters:r}}),[]),f=Object(i.useCallback)((function(e){var t=j(e,[]),n=t.text,a=t.newFilters;c(n.trimStart()),a.length&&r(u.concat(a))}),[u,j,r,c]),p=s.a.useCallback((function(e){var t=e.key;if(o)switch(t){case"Enter":return f("".concat(l).concat(b));default:return!1}}),[o,f,l]),x=s.a.useCallback((function(){n()}),[n]),g=function(){if(t(),!d){var e=l;c(""),c(e)}},O=function(){var e=l.indexOf(":");return l.substr(0,e)},v=function(e){var t,n=e.toISOString(),r=n.substr(0,n.indexOf("T")),a=O();null===I||void 0===I||null===(t=I.current)||void 0===t||t.focus(),f("".concat(a,": ").concat(r).concat(b))},w=function(e){var t,n=O();null===I||void 0===I||null===(t=I.current)||void 0===t||t.focus(),f("".concat(n,": ").concat(e).concat(b))},k=l.length>0?"active":void 0,N=!!o&&"focused",S=Object(i.useRef)(null),I=Object(i.useRef)(null),T=u.length>1?"filters":"filter",D=u.length>0?" (".concat(u.length," ").concat(T," active)"):"";return q(S,(function(){d||n()})),s.a.useEffect((function(){return window.addEventListener("keyup",p),window.addEventListener("scroll",x),d&&u.length>0&&!l&&c(u),function(){window.removeEventListener("keyup",p),window.removeEventListener("scroll",x)}}),[p,x,u,c,d,l]),Object(a.jsxs)("div",{className:m()("search",k,N),ref:S,children:[Object(a.jsx)("input",{type:"search",name:"search",className:"search-input",value:l,onChange:function(e){var t=e.target.value;if(d){if(window.scrollTo({top:0}),""===t)r([]);else{var n=t.split(b).map((function(e){return e.trimStart()}));r(n)}c(t)}else f(t)},placeholder:"Search".concat(D),autoComplete:"off",onClick:g,onFocus:g,ref:I,autoFocus:!!d,tabIndex:5}),d&&Object(a.jsx)(C,{className:"search"}),o&&Object(a.jsx)("button",{className:"cancel",onClick:function(){c("")},children:Object(a.jsx)(y,{})}),!d&&Object(a.jsxs)("div",{className:"search-filters",children:[o&&Object(a.jsxs)("div",{className:"filter-options",children:[!l.includes(":")&&function(){var e=h.searchOptions.filter((function(e){return!l.length||e.label.includes(l)}));return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"search-header",children:"Search Options:"}),e.map((function(e,t){return e.hide?null:Object(a.jsxs)("button",{className:"search-option",onClick:function(){return function(e){var t;null===I||void 0===I||null===(t=I.current)||void 0===t||t.focus(),c("".concat(e.label).concat(e.helperText))}(e)},tabIndex:6+t,children:[Object(a.jsxs)("span",{children:[e.label,":"]}),Object(a.jsx)("span",{className:"search-hint",children:" ".concat(e.hint)})]},"searchoption-".concat(e.label))}))]})}(),l.includes(":")&&function(){var e,t=l.indexOf(":"),n=l.substr(0,t),r=B(n);if(!r)return Object(a.jsx)("div",{className:"search-header",children:"Text search"});if("epochtime"===r)return function(e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("span",{className:"search-header",children:["Search ",e,": "," "]}),Object(a.jsx)(J.a,{onChange:v,isOpen:!0,closeCalendar:!1,maxDate:h.maxDate,minDate:h.minDate})]})}(n);var i=h.searchOptions,s=i.findIndex((function(e){return e.label===n})),o=i[s],u=["<",">","="].every((function(e){return-1===l.indexOf(e)}));if("colorName"===r)return function(e,t){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("span",{className:"search-header",children:["Search ",e,": "," "]}),t.entries.map((function(e,t){return Object(a.jsx)("span",{className:"color-block",style:{backgroundColor:e},onClick:function(){return w(e)}},"color-picker-".concat(t))}))]})}(n,o);if(o.helpers&&(null===(e=o.entries)||void 0===e?void 0:e.length))return function(e){var t=l.indexOf(":"),n=l.substr(0,t),r=l.substr(t+1,l.length).toLowerCase().trimStart();if(!r.length>0)return Object(a.jsx)("div",{children:"Type to narrow list..."});var c=e.filter((function(e){return e.toLowerCase().includes(r)})).slice(0,10);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"search-header",children:[n," possibilities:"]}),c.map((function(e,t){return Object(a.jsx)("button",{className:m()("search-option"),onClick:function(){return w(e)},tabIndex:6+t,children:Object(a.jsx)("span",{className:"result",children:e})},"search-helper".concat(t))}))]})}(o.entries);if("number"===o.type&&u)return h.numberHelpers.map((function(e,t){return Object(a.jsxs)("button",{className:"search-option",onClick:function(){return function(e){var t,n=O();null===I||void 0===I||null===(t=I.current)||void 0===t||t.focus(),c("".concat(n,": ").concat(e.operator))}(e)},tabIndex:6+t,children:[Object(a.jsxs)("span",{children:[e.label,":"]}),Object(a.jsx)("span",{className:"search-hint operator",children:e.hint})]},"operator-".concat(e.label))}));if("number"===o.type&&!u){var d=o.range[0],b=o.range[1];return Object(a.jsxs)("div",{className:"range-info",children:[Object(a.jsxs)("p",{children:["Enter number to filter by ",Object(a.jsxs)("span",{children:[o.label,"."]})]}),Object(a.jsx)("span",{children:o.label})," ranges from ",Object(a.jsx)("span",{children:"".concat(d)})," to ",Object(a.jsx)("span",{children:"".concat(b)})]})}return null}()]}),Object(a.jsxs)("div",{className:"current-filters",children:[Object(a.jsx)("span",{className:"search-header",children:"Current filters:"}),u.map((function(e,t){return e.length&&" "!==e?Object(a.jsx)($,{className:"search-filter",text:e,onClick:function(){return function(e){var t,n=u.findIndex((function(t){return t===e})),a=u.slice();a.splice(n,1),r(a),H(a),null===I||void 0===I||null===(t=I.current)||void 0===t||t.focus()}(e)},index:t},"filter-".concat(t)):null}))]})]})]})},te=s.a.memo(ee),ne=function(e){var t=e.className,n=e.options,c=e.reverseSort,o=e.updateSort,l=e.updateFormat,h=e.onLogoClick,d=e.searchProps,b=Object(i.useState)(n[0]),f=Object(j.a)(b,2),p=f[0],w=f[1],y=Object(i.useState)("All"),k=Object(j.a)(y,2),S=k[0],C=k[1],T=Object(i.useState)(!1),D=Object(j.a)(T,2),E=D[0],L=D[1],M=Object(i.useContext)(I).setModal,A=Object(u.b)(),R=Object(i.useState)(!1),z=Object(j.a)(R,2),P=z[0],B=z[1],W=U().width<=F,H=W?"image-nav--mobile":"image-nav--desktop",V=function(){L(!0)},_=function(){L(!1)},Y=["All","Wide","Portrait"],J=c?Object(a.jsx)(x,{},"sortup"):Object(a.jsx)(g,{},"sortdown"),X=function(){return Object(a.jsx)(te,Object(r.a)({handleSearchFocus:V,handleSearchBlur:_,focused:E,isMobile:W},d))},Z=Object(a.jsx)("ul",{className:"filters",children:n.map((function(e,t){var n=p.key===e.key,r=n?"is-active":void 0;return Object(a.jsx)("li",{children:Object(a.jsxs)("button",{id:e.label,className:m()("filter",r),onClick:function(){return w(t=e),void o(t);var t},tabIndex:t,children:[e.label,n&&"random"!==p.key&&J]},e.label)},t)}))}),K=function(){var e=!(!E||W)&&"hidden";return Object(a.jsx)("div",{className:m()("image-types",e),children:Y.map((function(e,t){return Object(a.jsxs)(s.a.Fragment,{children:[Object(a.jsx)("input",{id:"".concat(e,"-label"),onChange:function(){return C(t=e),void l(t);var t},checked:S===e,type:"radio",value:e,name:"type",tabIndex:n.length+t}),Object(a.jsx)("label",{htmlFor:"".concat(e,"-label"),tabIndex:n.length+t,children:e})]},"".concat(e,"-filter"))}))})},Q=W?Object(a.jsx)(N,{}):"About",$=W?"mobile":"desktop",ee=Object(a.jsx)("button",{className:m()("about-icon",$),onClick:function(){M({show:!0,component:Object(a.jsx)(G,{}),className:"about-window",withClose:!0})},children:Q}),ne=function(){B((function(e){return!e}))},re=s.a.useCallback((function(){E||B(!1)}),[E]),ae=Object(i.useRef)(null);return q(ae,(function(){B(!1)})),Object(i.useEffect)((function(){return W||B(!1),window.addEventListener("scroll",re),function(){window.removeEventListener("scroll",re)}}),[W,A,re]),Object(a.jsxs)("div",{className:"image-nav ".concat(H," ").concat(t),children:[Object(a.jsx)("div",{className:"framed-icon",children:Object(a.jsx)("button",{onClick:function(){C("All"),w(n[0]),h()},type:"button",children:Object(a.jsx)(O,{})})}),!W&&Object(a.jsxs)(a.Fragment,{children:[Z,K(),X(),ee]}),W&&function(){var e=!!P&&"show";return Object(a.jsxs)("div",{className:m()("mobile-menu",e),ref:ae,children:[Object(a.jsx)("button",{className:"menu-button",onClick:ne,children:Object(a.jsx)(v,{})}),P&&Object(a.jsx)("div",{className:"mobile-menu-content-mask",children:Object(a.jsxs)("div",{className:"mobile-menu-content",children:[X(),Z,K()]})}),ee]})}()]})},re=s.a.memo(ne),ae=n(42),ce=n(19),ie=n.p+"static/media/icon-sprite.acf31cf4.svg";function se(e){var t=e.icon,n=e.size,c=void 0===n?"20":n,i=Object(ce.a)(e,["icon","size"]),s={width:c,height:c};return Object(a.jsx)("svg",Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({fill:"currentColor"},s),{role:"img","aria-hidden":!0}),i),{},{focusable:"false",children:Object(a.jsx)("use",{xlinkHref:"".concat(ie,"#").concat(t)})}))}var oe=function(e){var t=e.links,n=void 0===t?null:t;return n?n.length>0?Object(a.jsx)("ul",{className:"author-links-list",children:n.map((function(e,t){return Object(a.jsx)(ue,{link:e},t)}))}):Object(a.jsx)("p",{className:"author-links-list",children:"This author has not listed their socials on FRAMED"}):null};function le(e){var t=new URL(e).hostname.replace("www.","");return t.includes("artstation.com")?{icon:"artstation",label:"Artstation"}:t.includes("bsky.app")?{icon:"bluesky",label:"Bluesky"}:t.includes("flickr.com")||t.includes("flic.kr")?{icon:"flickr",label:"Flickr"}:t.includes("instagram.com")||t.includes("instagr.am")?{icon:"instagram",label:"Instagram"}:t.includes("picashot.co")?{icon:"picashot",label:"Picashot"}:t.includes("steamcommunity.com")?{icon:"steam",label:"Steam"}:t.includes("tumblr.com")?{icon:"tumblr",label:"Tumblr"}:t.includes("twitter.com")||t.includes("x.com")?{icon:"twitter",label:"Twitter"}:t.includes("youtube.com")||t.includes("youtu.be")?{icon:"youtube",label:"YouTube"}:{icon:"globe",label:t}}function ue(e){var t=e.link,n=Object(ce.a)(e,["link"]);t.startsWith("http")||(t="https://".concat(t));var c=le(t),i=c.icon,s=c.label;return Object(a.jsx)("li",Object(r.a)(Object(r.a)({className:"author-link"},n),{},{children:Object(a.jsxs)("a",{className:"social-link",rel:"noreferrer",target:"_blank",href:t,onClick:function(e){return e.stopPropagation()},children:[Object(a.jsx)(se,{icon:i,className:"social-link-icon"}),Object(a.jsx)("span",{children:s})]})}))}var he,de=function(e){var t=e.show,n=void 0!==t&&t,r=e.className,c=e.modifier,i=void 0===c?"":c,s="framed-spinner",o=Object(a.jsxs)("div",{className:"".concat(s,"-svg-wrapper"),children:[Object(a.jsx)("svg",{className:"".concat(s,"-svg-back"),viewBox:"0 0 200 200",children:Object(a.jsx)("circle",{cx:"100",cy:"100",r:"90",fill:"none"})}),Object(a.jsx)("svg",{className:"".concat(s,"-svg-segment"),viewBox:"0 0 200 200",children:Object(a.jsx)("circle",{cx:"100",cy:"100",r:"90",fill:"none"})})]}),l=Object(a.jsx)("div",{className:m()(s,"".concat(s,"--").concat(i),r),children:o});return n?function(){var e=!!i&&"global";return Object(a.jsx)("div",{className:"".concat(s,"-container ").concat(e),children:l})}():null},be={initialized:!1,loadedState:!1,showImage:!1,authorExpanded:!1},je=function(e,t){switch(t.type){case"initialize":return Object(r.a)(Object(r.a)({},e),{},{initialized:!0});case"close":return Object(r.a)({},be);case"loadImage":return{initialized:!0,loadedState:!0,showImage:!0};case"changeImage":return Object(r.a)(Object(r.a)({},e),{},{loadedState:!1});case"showGlobalSpinner":return Object(r.a)(Object(r.a)({},e),{},{initialized:!1,showImage:!1});case"expandSocials":return Object(r.a)(Object(r.a)({},e),{},{authorExpanded:!0});case"closeSocials":return Object(r.a)(Object(r.a)({},e),{},{authorExpanded:!1});default:return e}},fe=function(e){var t,n,c,o=e.image,l=void 0===o?{}:o,u=e.show,h=e.onClose,d=e.data,b=e.onPrev,f=e.onNext,p=e.setBgImage,x=Object(i.useReducer)(je,{authorExpanded:!1,initialized:!1,loadedState:!1,showImage:!1}),g=Object(j.a)(x,2),O=g[0],v=O.authorExpanded,N=O.initialized,C=O.loadedState,D=O.showImage,E=g[1],F=Object(i.useContext)(I).modal,L=Object(i.useContext)(T).siteData.authorData,M=s.a.useRef(null);try{var R=function(e){var t=Object(i.useState)(null!=document[A()]),n=Object(j.a)(t,2),r=n[0],a=n[1];return Object(i.useLayoutEffect)((function(){return document.onfullscreenchange=function(){return a(null!=document[A()])},function(){return document.onfullscreenchange=void 0}})),[r,function(){null!=e.current&&e.current.requestFullscreen().then((function(){a(null!=document[A()])})).catch((function(){a(!1)}))}]}(M),z=Object(j.a)(R,2);t=z[0],n=z[1]}catch(Q){c="Fullscreen not supported",t=!1,n=void 0}var P=u?"is-visible":void 0,B=0===d.findIndex((function(e){return e.id===(null===l||void 0===l?void 0:l.id)}))||!C,W=d.findIndex((function(e){return e.id===(null===l||void 0===l?void 0:l.id)}))===d.length-1||!C,H=N?"":"global",U=t?"fullscreen":void 0,V=F.show?"blur":void 0,q=D?"loaded":"hidden",_=F.show?"hidden":"visible",G=l&&L.find((function(e){return l.author===e.authorNick})),Y=s.a.useCallback((function(e){null===e||void 0===e||e.stopPropagation(),E({type:"changeImage"}),b()}),[b]),J=s.a.useCallback((function(e){null===e||void 0===e||e.stopPropagation(),E({type:"changeImage"}),f()}),[f]),X=s.a.useCallback((function(){t?document.exitFullscreen():(E({type:"close"}),h())}),[t,h]),Z=s.a.useCallback((function(e){var r=e.key;if(!u)return!1;switch(r){case"ArrowRight":return!W&&J(e);case"ArrowLeft":return!B&&Y(e);case"Escape":return!t&&!F.show&&X();case"f":return!c&&n();default:return!1}}),[F,t,X,J,Y,W,B,n,c,u]);Object(i.useEffect)((function(){return window.addEventListener("keyup",Z),function(){window.removeEventListener("keyup",Z)}}),[N,Z]);var K=Object(ae.useSwipeable)(Object(r.a)({onSwipedLeft:function(){return!W&&(E({type:"showGlobalSpinner"}),J())},onSwipedRight:function(){return!B&&(E({type:"showGlobalSpinner"}),Y())},onSwiping:function(e){"Right"===e.dir&&!B||"Left"===e.dir&&!W?M.current.style.left="".concat(e.deltaX,"px"):M.current.style.left="0px"},onSwiped:function(){M.current.style.left="0px"}},{delta:10,preventDefaultTouchmoveEvent:!0,trackTouch:!0,trackMouse:!1,rotationAngle:0}));return Object(a.jsxs)("div",{className:m()("image-viewer","framed-modal",P),onClick:X,children:[Object(a.jsxs)("div",{className:m()("viewer-nav",_),children:[Object(a.jsx)("button",{className:"viewer-nav-button left",disabled:B,onClick:Y,children:Object(a.jsx)(S,{})}),Object(a.jsx)("button",{className:"viewer-nav-button right",disabled:W,onClick:J,children:Object(a.jsx)(S,{})})]}),Object(a.jsxs)("div",{ref:M,className:m()("image-viewer-content",U,V),children:[l&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("img",Object(r.a)({alt:l.game,src:l.shotUrl,onClick:function(e){e.stopPropagation()},onLoad:function(){E({type:"loadImage"}),p(l)},className:q},K)),N&&!t&&Object(a.jsxs)("div",{className:v?"shot-info expanded":"shot-info",onMouseOver:function(){return E({type:"expandSocials"})},onMouseOut:function(){return E({type:"closeSocials"})},onClick:function(e){e.stopPropagation()},children:[Object(a.jsxs)("div",{className:"info clickable",onClick:v?function(){return E({type:"closeSocials"})}:function(){return E({type:"expandSocials"})},children:[Object(a.jsx)("span",{className:"by",children:"by "}),Object(a.jsx)("span",{className:"author",children:l.author}),Object(a.jsx)("span",{className:"title",children:l.game}),Object(a.jsx)(oe,{links:G.socials})]}),!t&&!c&&Object(a.jsx)("button",{className:"fullscreen-button",onClick:n,children:Object(a.jsx)(w,{})})]}),t?Object(a.jsx)("button",{className:"close",onClick:function(){return document.exitFullscreen()},children:Object(a.jsx)(k,{})}):Object(a.jsx)("button",{className:"close",onClick:X,children:Object(a.jsx)(y,{})})]}),Object(a.jsx)(de,{modifier:H,show:!C})]})]})},pe={width:"150px",height:"150px",borderRadius:"50%",boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.3)"},me={padding:"20px",fontSize:"32px",fontWeight:"bold",color:"hsla(0, 0%, 90%, 1)",textShadow:"2px 2px 4px rgba(0, 0, 0, 0.5)"},xe={display:"flex",alignItems:"center",textDecoration:"none",margin:"0 10px",padding:"10px 15px",borderRadius:"20px",background:"hsla(0, 0%, 10%, 0.8)",color:"hsla(0, 0%, 90%, 1)",transition:"all 0.3s ease",boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.2)"},ge={transition:"all 0.3s ease"},Oe={marginLeft:"8px",textDecoration:"none",transition:"all 0.3s ease"},ve=function(e){var t=e.profileData,n=void 0!==t,r=n?t.authorsAvatarUrl:"",c={paddingTop:n?"80px":"0",justifyItems:"center",display:"flex",flexDirection:"column",flexWrap:"wrap",alignItems:"center",overflow:"hidden",transition:"all 0.5s ease",height:n?"auto":"0",opacity:n?"1":"0",width:"90%",maxWidth:"1200px",margin:"0 auto",boxSizing:"border-box"},i=n?t.socials.map((function(e){return e.startsWith("http")||(e="https://".concat(e)),le(e)})):[],s={flexDirection:"row",borderRadius:"15px",padding:"20px",display:0===i.length?"none":"flex",justifyContent:"center",flexWrap:"wrap",gap:"10px"};return Object(a.jsxs)("div",{className:"ProfileBanner",style:c,children:[Object(a.jsx)("img",{className:"Avatar",alt:"Avatar",src:r,style:pe,onError:function(e){e.target.src="default_avatar.png"}}),Object(a.jsx)("div",{style:me,children:void 0!==t?t.authorNick:""}),Object(a.jsx)("div",{style:s,children:i.map((function(e,n){return Object(a.jsxs)("a",{href:t.socials[n],target:"_blank",rel:"noreferrer",style:xe,onMouseEnter:function(e){e.currentTarget.style.transform="scale(1.1)";var t=e.currentTarget.querySelector(".social-link-icon"),n=e.currentTarget.querySelector(".social-link-text");t.style.filter="drop-shadow(0px 0px 4px hsla(0, 0%, 100%, 0.33))",t.style.WebkitFilter="drop-shadow(0px 0px 4px hsla(0, 0%, 100%, 0.33))",n.style.textShadow="0px 0px 4px hsla(0, 0%, 100%, 0.66)"},onMouseLeave:function(e){e.currentTarget.style.transform="scale(1)";var t=e.currentTarget.querySelector(".social-link-icon");e.currentTarget.querySelector(".social-link-text").style.textShadow="none",t.style.filter="none",t.style.WebkitFilter="none"},children:[Object(a.jsx)(se,{icon:e.icon,className:"social-link-icon",style:ge}),Object(a.jsx)("span",{className:"social-link-text",style:Oe,children:e.label})]})}))})]})},we=s.a.memo(ve,(function(e,t){return e.profileData===t.profileData})),ye=[{label:"Date",key:"epochtime"},{label:"Shuffle",key:"random"},{label:"AR",key:"aspectRatio"}],ke=function(e,t){switch(t.type){case"reset":return Object(r.a)(Object(r.a)({},e),{},{sortOption:ye[0],format:"all",filters:[],searchText:"",showViewer:!1,viewerSrc:null,isReverse:!1,page:1});case"loadMoreImages":return Object(r.a)(Object(r.a)({},e),{},{waiting:!0,page:t.page});case"doneWaiting":return Object(r.a)(Object(r.a)({},e),{},{waiting:!1});case"setPage":return Object(r.a)(Object(r.a)({},e),{},{waiting:!0,page:t.page});case"changeFormat":return Object(r.a)(Object(r.a)({},e),{},{page:1,waiting:!0},t);case"close":return Object(r.a)(Object(r.a)({},e),{},{viewerSrc:null,showViewer:!1});case"setSearchData":return Object(r.a)(Object(r.a)({},e),{},{searchData:t.data});case"setSearchText":return Object(r.a)(Object(r.a)({},e),{},{searchText:t.text});case"setSearchFilters":return Object(r.a)(Object(r.a)({},e),{},{filters:t.filters});case"setImages":return Object(r.a)(Object(r.a)({},e),{},{images:t.images});case"selectImage":return Object(r.a)(Object(r.a)({},e),{},{viewerSrc:t.image,showViewer:!0});case"loadImage":return{initialized:!0,loadedState:!0,showImage:!0};case"changeSort":return Object(r.a)(Object(r.a)({},e),{},{page:1,waiting:!0,sortOption:t.sortOption,isReverse:t.isReverse});default:return e}};function Ne(e){var t=e.filter((function(e){return e.startsWith("author: ")}));return 1!==t.length?"":t[0].slice(8)}var Se=function(e){var t=e.pageSize,n=e.setBgImage,c=e.imageId,o=e.queryParams,l=e.onShuffle,h=e.searchData,d=Object(i.useContext)(T).siteData,b=d.imageData,p=d.authorData,m=Object(i.useState)(p.find((function(e){return Ne(o)===e.authorNick}))),x=Object(j.a)(m,2),g=x[0],O=x[1],v={images:[],sortOption:ye[0],format:"all",searchText:"",filters:o,showViewer:!1,viewerSrc:null,isReverse:!1,waiting:!1,page:1},w=Object(i.useReducer)(ke,Object(r.a)({},v)),y=Object(j.a)(w,2),k=y[0],N=k.images,S=k.sortOption,C=k.format,F=k.filters,L=k.searchText,M=k.showViewer,A=k.viewerSrc,R=k.isReverse,z=k.waiting,P=k.page,U=y[1],q=Object(i.useState)({show:!1,component:null,className:"",withClose:!0}),G=Object(j.a)(q,2),Y=G[0],J=G[1],X=P*t<=N.length,Z=V(X),K=Object(u.b)(),Q=s.a.useMemo((function(){return{strings:W("string"),numbers:W("number")}}),[]),$=Object(i.useCallback)((function(){var e=b.findIndex((function(e){return e.epochtime===c})),t=b[e];U({type:"selectImage",image:t,showViewer:!0})}),[b,c]),ee=function(e){var t=window.location.search,n=new URLSearchParams(t);n.delete("imageId"),e&&n.append("imageId",e),K.push({search:n.toString()})},te=Object(i.useCallback)((function(e){var n=t*P;return n>e.length?e:e.slice(0,n)}),[P,t]),ne=function(){ee(),"author-social-content"!==Y.className&&U({type:"close"}),J(Object(r.a)(Object(r.a)({},Y),{},{className:"",component:null,show:!1}))},ae=Object(i.useCallback)((function(e){var t,n=[],r=Object(f.a)(e);try{var a=function(){var e=t.value,r=le(e);if(B(r)){var a=n.findIndex((function(e){return e.searchOption===r}));a>-1?n[a].searchTerms.push(ue(e)):n.push({searchOption:r,searchTerms:[ue(e)]})}else n.push({searchTerm:e})};for(r.s();!(t=r.n()).done;)a()}catch(c){r.e(c)}finally{r.f()}return n}),[]),ce=Object(i.useCallback)((function(e,t){if(e.hasOwnProperty("searchOption")){var n=function(){var n,r=e.searchOption,a=e.searchTerms,c=[],i=B(r),s=i||r,o=Object(f.a)(a);try{var l=function(){var e=n.value.replace(/\s+/g,""),a=[];if(Q.strings.includes(s))a=t.filter((function(n){return(null===e||void 0===e?void 0:e.length)>=3?n[s].replace(/\s+/g,"").toLowerCase().includes(e.toLowerCase()):t}));else if("on"===r){var i=oe(s,e),o=new Date(1e3*i);o.setDate(o.getDate()+1);var l=Date.parse(o)/1e3;a=t.filter((function(e){return e[s]>=i&&e[s]<=l})),console.log("dateEpoch",i),console.log("dateValue",o),console.log("newResults",a)}else if(Q.numbers.includes(s)){var u=function(e){var t=E.searchOptions.findIndex((function(t){return t.label===e})),n=E.searchOptions[t];return null===n||void 0===n?void 0:n.operator}(r),h=oe(s,e);a=t.filter((function(t){return"="===u||e.indexOf("=")>-1?t[s]===h:"<"===u||e.indexOf("<")>-1?t[s]<=h:t[s]>=h}))}c=function(e){for(var t=e.concat(),n=0;n<t.length;++n)for(var r=n+1;r<t.length;++r)t[n].epochtime===t[r].epochtime&&t.splice(r--,1);return t}(c.concat(a))};for(o.s();!(n=o.n()).done;)l()}catch(u){o.e(u)}finally{o.f()}return{v:c}}();if("object"===typeof n)return n.v}var r=e.searchTerm;return r.length<3?t:t.filter((function(e){return Object.keys(e).reduce((function(t,n){return t||e[n].toString().toLowerCase().includes(r.toLowerCase())}),!1)}))}),[Q]),ie=Object(i.useCallback)((function(e){var t,n=e.slice(),r=ae(F),a=Object(f.a)(r);try{for(a.s();!(t=a.n()).done;){var c=t.value;n=ce(c,n)}}catch(i){a.e(i)}finally{a.f()}return n}),[ce,F,ae]),se=Object(i.useCallback)((function(e){var t=e,n=S.key;"Wide"===C?t=t.filter((function(e){return e.width>e.height})):"Portrait"===C&&(t=t.filter((function(e){return e.width<=e.height})));var r=F.length?ie(t):t;if("random"!==S.key){var a=function(e,t){return e[n]<t[n]?1:t[n]<e[n]?-1:0};R&&(a=function(e,t){return e[n]>t[n]?1:t[n]>e[n]?-1:0}),r=r.sort(a)}return console.log(r),r}),[R,ie,S,C,F.length]),oe=function(e,t){var n;if(n=-1!==t.indexOf("<")?t.substr(t.indexOf("<")+1):-1!==t.indexOf(">")?t.substr(t.indexOf(">")+1):t.substr(t.indexOf("=")+1),"epochtime"===e){var r=new Date(n);n=Date.parse(r)/1e3}return parseInt(n,10)},le=function(e){var t=e.indexOf(":");return-1!==t&&e.substring(0,t)},ue=function(e){var t=e.indexOf(":");return-1!==t&&e.substring(t+1).trimStart()};Object(i.useEffect)((function(){if(b.length){var e=se(b.slice()),t=te(e);U({type:"setImages",images:t})}z&&(clearTimeout(he),he=setTimeout((function(){return U({type:"doneWaiting"})}),2e3))}),[b,S,C,R,se,M,te,z]),Object(i.useEffect)((function(){b.length&&null!==c&&$()}),[b,c,$]),X&&Z&&!z&&U({type:"loadMoreImages",page:P+1});return Object(a.jsx)("div",{className:"home",children:Object(a.jsxs)(I.Provider,{value:{modal:Y,setModal:J},children:[Object(a.jsx)(re,{className:M||Y.show?"hidden":"",options:ye,reverseSort:R,updateSort:function(e){e.key===S.key?U({type:"changeSort",isReverse:!R,sortOption:S}):U({type:"changeSort",isReverse:!1,sortOption:e}),window.scrollTo({top:0,behavior:"smooth"}),"random"===e.key&&l()},updateFormat:function(e){U({type:"changeFormat",format:e}),window.scrollTo({top:0,behavior:"smooth"})},onLogoClick:function(){U({type:"reset"}),H([],K),O(void 0)},searchProps:{searchData:h,updateSearch:function(e){U({type:"setSearchText",text:e})},updateFilters:function(e){var t=e.filter((function(t,n){return e.indexOf(t)===n}));H(t,K),O(p.find((function(e){return Ne(t)===e.authorNick}))),U({type:"setSearchFilters",filters:t})},searchText:L,filters:F}}),Object(a.jsx)(we,{profileData:g}),b&&Object(a.jsx)(_,{className:"image-rows",images:N,rowTargetHeight:400,onClick:function(e){ee(e.epochtime),U({type:"selectImage",image:e})},borderOffset:7,profileMode:void 0!==g}),X&&Object(a.jsx)("div",{className:"load-more-container",children:Object(a.jsx)("button",{onClick:function(){return U({type:"loadMoreImages",page:P+1})},tabIndex:-1,children:"Load more images"})}),F.length>0&&!N.length?Object(a.jsx)("div",{className:"no-search-results",children:"There are no images matching your search criteria"}):null,Object(a.jsx)(fe,{image:A,show:M,onClose:ne,data:N,onPrev:function(){var e=N.findIndex((function(e){return e.epochtime===A.epochtime}));e-1>=0&&(ee(N[e-1].epochtime),U({type:"selectImage",image:N[e-1]}))},onNext:function(){var e=N.findIndex((function(e){return e.epochtime===A.epochtime}));e+1<=N.length&&(ee(N[e+1].epochtime),U({type:"selectImage",image:N[e+1]}))},setBgImage:n}),Object(a.jsx)(D,{onClose:ne,className:Y.className,show:Y.show,component:Y.component})]})})},Ce=s.a.memo(Se),Ie=n(72),Te=(new Date).getTime();n(91),n(92),n(93),n(94),n(95),n(96),n(97);var De=function(){var e=Object(i.useState)({imageData:[],authorData:[]}),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object(i.useMemo)((function(){return{siteData:n,setSiteData:c}}),[n,c]),o=Object(i.useState)(!1),l=Object(j.a)(o,2),u=l[0],h=l[1],f=Object(i.useState)(null),p=Object(j.a)(f,2),m=p[0],x=p[1],g=R("imageId"),O=0===g.length?null:parseInt(g[0]),v=Object(i.useCallback)((function(e){if(e){var t=e.thumbnailUrl;m.style.backgroundImage="url('".concat(t,"')")}}),[m]),w=function(){var e=Object(b.a)(d.a.mark((function e(){var t,n,r,a,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,Ie.get("".concat("https://raw.githubusercontent.com/originalnicodrgitbot/hall-of-framed-db/main/shotsdb.json","?timestamp=").concat(Te));case 3:return t=e.sent,e.next=6,Ie.get("".concat("https://raw.githubusercontent.com/originalnicodrgitbot/hall-of-framed-db/main/authorsdb.json","?timestamp=").concat(Te));case 6:n=e.sent,r=L(t.data._default),a=L(n.data._default),i=M(r,a),c({imageData:i,authorData:a});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){var e=n.imageData;if(!u&&w(),!m&&x(document.querySelector(".bg-blur")),e.length&&m){var t=O?e.findIndex((function(e){return e.epochtime===O})):Math.floor(Math.random()*Math.floor(e.length-1));v(e[t])}}),[m,n,u,v,O]);var y=n.imageData.length>0&&n.authorData.length;return Object(a.jsx)("div",{className:"image-grid",children:y&&Object(a.jsx)(T.Provider,{value:s,children:Object(a.jsx)(Ce,{imageId:O,queryParams:function(){var e=R("author"),t=R("title"),n=R("on"),r=R("before"),a=R("after"),c=R("score"),i=R("width"),s=R("height"),o=R("color");function l(e,t){return 0===t.length?[]:t.map((function(t){return"".concat(e,": ").concat(t)}))}return[l("author",e),l("title",t),l("on",n),l("before",r),l("after",a),l("score",c),l("width",i),l("height",s),l("color",o)].flat()}(),pageSize:100,setBgImage:v,searchData:P(n.imageData),onShuffle:function(){var e=function(e){for(var t,n=e.length;0!==n;){t=Math.floor(Math.random()*n),n--;var r=[e[t],e[n]];e[n]=r[0],e[t]=r[1]}return e}(n.imageData.slice());c(Object(r.a)(Object(r.a)({},n),{},{imageData:e}))}})})})},Ee=(n(98),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,103)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))}),Fe=Object(c.a)();l.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(u.a,Object(r.a)(Object(r.a)({},{history:Fe}),{},{children:Object(a.jsx)(De,{})}))}),document.getElementById("root")),Ee()},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){}},[[100,1,2]]]);
//# sourceMappingURL=main.0f7620fa.chunk.js.map